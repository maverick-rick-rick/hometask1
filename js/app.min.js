!function(){"use strict";var e={type:"text",idName:"create_note_name",placeholder:"Type here...",labelContent:"Enter your note name",required:!0},t={name:"create_note_category",idName:"create_note_category",optionValues:["Task","Thought","Idea","Quote"],labelContent:"Choose a category of your note"},n={type:"textarea",idName:"create_note_content",placeholder:"Type here...",labelContent:"Enter your note content here...",required:!0},a={type:"submit",idName:"create_note_submit",placeholder:"",labelContent:"If it`s all right, press submit button below",value:"Create a note"},r=[{role:"edit",pic:"pencil"},{role:"archive",pic:"archive"}],o={name:"Name",created:"Created",category:"Category",content:"Content",deadlines:"Deadlines"},d={category:"Note category",active:"Active",archived:"Archived"},c={newNoteForm:{newInput:function(e){var t=document.createElement("label"),n=document.createElement("input");n.setAttribute("type",e.type),n.setAttribute("id",e.idName),n.setAttribute("placeholder",e.placeholder),e.value&&n.setAttribute("value",e.value),e.required&&n.setAttribute("required",""),t.setAttribute("for",e.idName),t.innerText=e.labelContent;var a=document.createDocumentFragment();return a.appendChild(t),a.appendChild(n),a},newSelect:function(e){var t=document.createElement("label"),n=document.createElement("select");n.setAttribute("name",e.name),n.setAttribute("id",e.idName),n.setAttribute("value",e.optionValues[0]),e.optionValues.forEach((function(e){var t=document.createElement("option");t.setAttribute("value",e),t.innerText=e,n.append(t)})),t.setAttribute("for",e.idName),t.innerText=e.labelContent;var a=document.createDocumentFragment();return a.appendChild(t),a.appendChild(n),a},formStructure:function(e){var t=document.createElement("form");return t.setAttribute("id","create_note_form"),t.setAttribute("action","#"),t.classList.add("create_note"),e.forEach((function(e){t.append(e)})),t}},newTableRow:{roundedIcon:function(e){var t=document.createElement("div");return t.classList.add("rounded_icon"),t.innerHTML='<svg><use href="./images/dist/sprite.svg#svg-'.concat(e,'"></use></svg>'),t},tableButton:function(e){var t=document.createElement("button");return t.classList.add("btn"),t.classList.add("btn-".concat(e.role)),t.innerHTML='<svg><use href="./images/dist/sprite.svg#svg-'.concat(e.pic,'"></use></svg>'),t},tableRow:function(e,t){var n=document.createElement("div");n.classList.add("table_row"),t.headline&&n.classList.add("table_headline");for(var a=Object.entries(e),o=0;o<a.length;o++){var d=document.createElement("div");if(d.classList.add("table_row-item"),!t.headline&&0==o){console.log();var i=e.category.toLowerCase();i=i.replace(/ /gi,"_");var s=c.newTableRow.roundedIcon(i);d.append(s)}var l=document.createElement("p");d.append(l),l.innerText="".concat(a[o][1]),n.append(d)}if(t.buttons){var u=document.createElement("div");u.classList.add("table_row-item"),u.classList.add("table_row-buttons"),t.headline&&u.classList.add("table_headline-buttons"),r.forEach((function(e){var t=c.newTableRow.tableButton(e);u.append(t)})),n.append(u)}return n}}},i={noteForm:[c.newNoteForm.newInput(e),c.newNoteForm.newSelect(t),c.newNoteForm.newInput(n),c.newNoteForm.newInput(a)]},s={visibleNotes:[{name:"Shopping list",created:"September 14, 2022",category:"Task",content:"Peanut, butter",deadlines:""},{name:"Climb a tree",created:"September 22, 2022",category:"Random thought",content:"My neighbour have a bonsai tree...",deadlines:"17.09.2022/19.09.2022"},{name:"Take a shower",created:"September 17, 2022",category:"Idea",content:"Or not...",deadlines:""},{name:"Winter is coming",created:"September 14, 2022",category:"Quote",content:"Eddard Stark",deadlines:""},{name:"To do",created:"February 14, 2022",category:"Random thought",content:"Lorem ipsum dolor",deadlines:""},{name:"Buy a island",created:"April 22, 2022",category:"Idea",content:"On the Caribbean",deadlines:""},{name:"It`s awesome",created:"August 12, 2022",category:"Quote",content:"Me",deadlines:""},{name:"Something cool",created:"October 17, 2022",category:"Random thought",content:"",deadlines:"12.12.2012/17.05.2023"}],archivedNotes:[{name:"Shopping list",created:"September 14, 2022",category:"Task",content:"Peanut, butter",deadlines:""},{name:"Climb a tree",created:"September 22, 2022",category:"Random thought",content:"My neighbour have a bonsai tree...",deadlines:"17.09.2022/19.09.2022"},{name:"Take a shower",created:"September 17, 2022",category:"Task",content:"Or not...",deadlines:""},{name:"Winter is coming",created:"September 14, 2022",category:"Quote",content:"Eddard Stark",deadlines:""},{name:"Winter is coming",created:"September 14, 2022",category:"Idea",content:"Eddard Stark",deadlines:""},{name:"Winter is coming",created:"September 14, 2022",category:"Quote",content:"Eddard Stark",deadlines:""},{name:"Winter is coming",created:"September 14, 2022",category:"Task",content:"Eddard Stark",deadlines:""}]};var l,u=(l=i.noteForm,c.newNoteForm.formStructure(l));var m=function(e){var t=document.createElement("div");t.classList.add("table");var n=c.newTableRow.tableRow(o,{headline:!0,buttons:!0});return t.append(n),e.forEach((function(e){var n=c.newTableRow.tableRow(e,{headline:!1,buttons:!0});t.append(n)})),t}(s.visibleNotes);var p=function(e){var t=Object.values(e),n=[];t.forEach((function(e){n.push(function(e){var t=[];return e.forEach((function(e){t.push(e.category)})),t}(e))}));var a=n[0].sort();function r(e){for(var t=[],n=1,a=0;a<e.length;a++)e[a]==e[a+1]?n+=1:(t.push(n),n=1);return t}return n[1].sort(),n=n.flat(1).sort(),function(e,t,n){for(var a=[],r=0;r<e.length;r++){var o={};o.category=e[r],o.visible=t[r],o.archived=n[r],a.push(o)}return a}(Array.from(new Set(n)),r(a),r(n))}(s),b=function(e){var t=document.createElement("div");t.classList.add("table");var n=c.newTableRow.tableRow(d,{headline:!0,buttons:!1});return t.append(n),e.forEach((function(e){var n=c.newTableRow.tableRow(e,{headline:!1,buttons:!1});t.append(n)})),t}(p);document.addEventListener("DOMContentLoaded",(function(){var e,t=document.querySelector(".popup"),n=document.getElementById("popup_close"),a=document.getElementById("add_new_note"),r=document.querySelector(".note_list > .container"),o=document.querySelector(".note_categories > .container");r.insertBefore(m,a.closest("div")),(e=r.querySelector(".table_headline-buttons")).removeChild(e.firstChild),o.append(b),a.addEventListener("click",(function(){t.querySelector(".popup_content").append(u),t.classList.remove("hidden")})),n.addEventListener("click",(function(e){this.closest(".popup").classList.add("hidden")})),window.addEventListener("click",(function(e){if(e.target==a||e.target.closest(".popup"))return!1;t.classList.add("hidden")}))}))}();